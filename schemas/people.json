{
	"$schema": "http://json-schema.org/schema#",
	"id": "uri://registries/people#",

	"blocks":{
		"person":{
			"title": "Základné informácie",
			"transCode": "schema.people.baseData",
			"type": "object",
			"properties":{
				"bornNumber": {
					"title": "Rodné číslo",
					"transCode": "schema.people.baseData.bornNumber",
					"type": "string",
					"required": true
				},
				"name": {
					"title": "Meno",
					"transCode": "schema.people.baseData.name",
					"type": "string",
					"required": true,
					"collate":true
				},
				"surName": {
					"title": "Priezvisko",
					"transCode": "schema.people.baseData.surName",
					"type": "string",
					"required": true,
					"collate":true
				},
				"bornName": {
					"title": "Rodné priezvisko",
					"transCode": "schema.people.baseData.bornName",
					"type": "string"
				},
				"title": {
					"title": "Titul",
					"transCode": "schema.people.baseData.title",
					"type": "string"
				},
				"birthDate": {
					"extends":"uri://registries/commontypes#blocks/date",
					"title": "Dátum narodenia",
					"transCode": "schema.people.baseData.birthDate",
					"required": true
				},
				"gender": {
					"extends":"uri://registries/commonenums#blocks/gender",
					"title": "Pohlavie",
					"transCode": "schema.people.baseData.gender",
					"required": true
				},
				"nationality": {
					"$ref": "uri://registries/nationality#country"
				}
			}
		},
		"photoInfo": {
			"title": "Fotografie",
			"transCode": "schema.people.photoInfo",
			"type": "object",
			"properties": {
				"photo": {
					"title": "Fotografia",
					"transCode": "schema.people.photoInfo.photo",
					"type": "string",
					"render": {
						"component": "psui-uploadable-image",
						"height": 244,
						"width": 205
					}
				}
			}
		},
		"contact": {
			"title": "Kontaktné údaje",
			"transCode": "schema.people.contactInfo",
			"type": "object",
			"properties": {
				"street": {
					"title": "Ulica",
					"transCode": "schema.people.contactInfo.street",
					"type": "string",
					"required": true
				},
				"houseNumber": {
					"title": "Číslo domu",
					"transCode": "schema.people.contactInfo.houseNumber",
					"type": "string",
					"required": true
				},
				"city": {
					"title": "Obec",
					"transCode": "schema.people.contactInfo.city",
					"type": "string",
					"required": true
				},
				"zipCode": {
					"title": "PSČ",
					"transCode": "schema.people.contactInfo.zipCode",
					"type": "string",
					"required": true
				},
				"country": {
					"title": "Štát",
					"transCode": "schema.people.contactInfo.country",
					"type": "string",
					"required": true
				},
				"phoneNumber": {
					"title": "Telefón",
					"transCode": "schema.people.contactInfo.phoneNumber",
					"type": "string"
				},
				"mobileNumber": {
					"title": "Mobil",
					"transCode": "schema.people.contactInfo.mobileNumber",
					"type": "string"
				},
				"mobileNumber2": {
					"title": "Mobil 2",
					"transCode": "schema.people.contactInfo.mobileNumber2",
					"type": "string"
				},
				"email": {
					"title": "E-mail",
					"transCode": "schema.people.contactInfo.email",
					"type": "string"
				},
				"email2": {
					"title": "E-mail 2",
					"transCode": "schema.people.contactInfo.email2",
					"type": "string"
				}
			}
		},
		"bankInfo": {
			"title": "Bankové spojenie",
			"transCode": "schema.people.bankInfo",
			"type": "object",
			"properties": {
				"bankAccount": {
					"title": "Číslo účtu",
					"transCode": "schema.people.bankInfo.bankAccount",
					"type": "string"
				},
				"bankCode": {
					"title": "Kód banky",
					"transCode": "schema.people.bankInfo.bankCode",
					"type": "string"
				},
				"iban": {
					"title": "IBAN",
					"transCode": "schema.people.bankInfo.iban",
					"type": "string"
				},
				"swift": {
					"title": "SWIFT",
					"transCode": "schema.people.bankInfo.swift",
					"type": "string"
				}
			}
		},
		"hockeyPlayerInfo": {
			"title": "Profil hráča",
			"transCode": "schema.people.hockeyPlayerInfo",
			"type": "object",
			"properties": {
				"isActivePlayer": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je aktivní hráč",
					"transCode": "schema.people.isActivePlayer"
				},
				"isActiveCoach": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je aktivní trenér",
					"transCode": "schema.people.isActiveCoach"
				},
				"isActiveAgent": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je aktivní agent",
					"transCode": "schema.people.isActiveAgent"
				},
				"isActiveRepresentative": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je aktivní funkcionář",
					"transCode": "schema.people.isActiveRepresentative"
				},
				"isProAm": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je PRO-AM",
					"transCode": "schema.people.isProAm"
				},
				"isActivePartner": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je aktivní partner",
					"transCode": "schema.people.isActivePartner"
				},
				"competitionCategory": {
					"title": "Kategorie soutěže",
					"transCode": "schema.people.hockeyPlayerInfo.category",
					"type": "string",
					"enum": [
						"Extraliga",
						"1.NHL",
						"Zahraničí"
					],
					"enumTransCodes": [
						"schema.people.hockeyPlayerInfo.category.extraliga",
						"schema.people.hockeyPlayerInfo.category.nhl",
						"schema.people.hockeyPlayerInfo.category.foreign"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"clubName": {
					"title": "Názov klubu",
					"transCode": "schema.people.hockeyPlayerInfo.clubName",
					"objectLink": {
						"registry": "organizations",
						"name": "baseData.name.v"
					}
				},
				"positionName": {
					"title": "Post",
					"transCode": "schema.people.hockeyPlayerInfo.positionName",
					"type": "string",
					"enum": [
						"útočník",
						"obránce",
						"brankář",
						"ostatní"
					],
					"enumTransCodes": [
						"schema.people.hockeyPlayerInfo.positionName.forward",
						"schema.people.hockeyPlayerInfo.positionName.defender",
						"schema.people.hockeyPlayerInfo.positionName.goalkeeper",
						"schema.people.hockeyPlayerInfo.positionName.other"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"dressNumber": {
					"title": "Číslo dresu",
					"transCode": "schema.people.hockeyPlayerInfo.dressNumber",
					"type": "string"
				},
				"playerHeight": {
					"title": "Výška",
					"transCode": "schema.people.hockeyPlayerInfo.playerHeight",
					"type": "string"
				},
				"playerWeight": {
					"title": "Hmotnosť",
					"transCode": "schema.people.hockeyPlayerInfo.playerWeight",
					"type": "string"
				},
				"stickHandling": {
					"title": "Držanie hokejky",
					"transCode": "schema.people.hockeyPlayerInfo.stickHandling",
					"type": "string",
					"enum": [
						"levé",
						"pravé"
					],
					"enumTransCodes": [
						"schema.people.hockeyPlayerInfo.stickHandling.left",
						"schema.people.hockeyPlayerInfo.stickHandling.right"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"dressSize": {
					"title": "Velikost",
					"transCode": "schema.people.hockeyPlayerInfo.dressSize",
					"type": "string",
					"enum": [
						"M",
						"L",
						"XL",
						"XXL"
					],
					"enumTransCodes": [
						"schema.people.hockeyPlayerInfo.dressSize.M",
						"schema.people.hockeyPlayerInfo.dressSize.L",
						"schema.people.hockeyPlayerInfo.dressSize.XL",
						"schema.people.hockeyPlayerInfo.dressSize.XXL"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"footSize": {
					"title": "Číslo boty",
					"transCode": "schema.people.hockeyPlayerInfo.footSize",
					"type": "string"
				},
				"nickName": {
					"title": "Přezdívka",
					"transCode": "schema.people.hockeyPlayerInfo.nickName",
					"type": "string"
				},
				"contractDate": {
					"title": "Zmluva zo dňa",
					"transCode": "schema.people.hockeyPlayerInfo.contractDate",
					"type": "string",
					"render": {
						"component": "psui-datepicker"
					}
				},
				"registredAgentName": {
					"title": "Jméno registrovaného agenta",
					"transCode": "schema.people.hockeyPlayerInfo.registredAgentName",
					"type": "string"
				},
				"nonregisteredAgentName": {
					"title": "Jméno neregistrovaného agenta",
					"transCode": "schema.people.hockeyPlayerInfo.nonregisteredAgentName",
					"type": "string"
				}
			}
		},
		"membershipFeeInfo": {
			"title": "Členské príspevky",
			"transCode": "schema.people.membershipFeeInfo.title",
			"type": "object",
			"properties": {
				"membershipType": {
					"title": "Typ členského príspevku",
					"transCode": "schema.people.membershipFeeInfo.membershipType",
					"type": "string",
					"enum": [
						"Extraliga do 23r.",
						"Extraliga nad 23r.",
						"1.NHL",
						"Agent",
						"Ostatní"
					],
					"enumTransCodes": [
						"schema.people.membershipFeeInfo.membershipType.extraligaUnder23",
						"schema.people.membershipFeeInfo.membershipType.extraligaOver23",
						"schema.people.membershipFeeInfo.membershipType.1.NHL",
						"schema.people.membershipFeeInfo.membershipType.agent",
						"schema.people.membershipFeeInfo.membershipType.other"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"paymentFrequency": {
					"title": "Frekvencia platby",
					"transCode": "schema.people.membershipFeeInfo.paymentFrequency",
					"type": "string",
					"enum": [
						"1xročne",
						"2xročne",
						"4xročne",
						"12xročne"
					],
					"enumTransCodes": [
						"schema.people.membershipFeeInfo.paymentFrequency.1xyear",
						"schema.people.membershipFeeInfo.paymentFrequency.2xyear",
						"schema.people.membershipFeeInfo.paymentFrequency.4xyear",
						"schema.people.membershipFeeInfo.paymentFrequency.12xyear"
					],
					"render": {
						"component": "psui-selectbox",
						"searchable": true
					}
				},
				"membershipFee": {
					"title": "Výška členského príspevku",
					"transCode": "schema.people.membershipFeeInfo.membershipFee",
					"type": "number"
				},
				"notes": {
					"title": "Poznámka",
					"transCode": "schema.people.membershipFeeInfo.notes",
					"type": "string",
					"large": true
				}
			}
		},
		"otherInfo": {
			"title": "Ostatné údaje",
			"transCode": "schema.people.otherInfo",
			"type": "object",
			"properties": {
				"isPhotoPublic": {
					"extends":"uri://registries/commonenums#blocks/boolean",
					"title": "Je fotka verejná",
					"transCode": "schema.people.otherInfo.isPhotoPublic"
				},
				"idCardNumber": {
					"title": "Číslo OP",
					"transCode": "schema.people.otherInfo.idCardNumber",
					"type": "string"
				},
				"membershipStartDate": {
					"extends":"uri://registries/commontypes#blocks/date",
					"title": "Člen od",
					"transCode": "schema.people.otherInfo.membershipStartDate"
				},
				"membershipEndDate": {
					"extends":"uri://registries/commontypes#blocks/date",
					"title": "Člen do",
					"transCode": "schema.people.otherInfo.membershipEndDate"
				},
				"stateOfPerson": {
					"extends":"uri://registries/commonenums#blocks/active",
					"title": "Status",
					"transCode": "schema.people.stateOfPerson"
				},
				"note": {
					"title": "Poznámka",
					"transCode": "schema.people.otherInfo.note",
					"type": "string",
					"large": true
				}
			}
		}
	},

	"models":{
		"person":{
			"table": "people",
			"security": {
				"create": {
					"static": [
						"Registry - write"
					]
				},
				"read": {
					"static": [
						"Registry - read"
					]
				},
				"modify": {
					"static": [
						"Registry - write"
					]
				}
			},
			"fireEvents":{
				"create": "event-player-created",
				"update": "event-player-updated"
			},
			"properties":{
				"baseData":{
					"extends":"uri://registries/people#blocks/person"
				},
				"contact":{
					"$ref":"uri://registries/people#blocks/contact"
				},
				"bankInfo": {
					"$ref":"uri://registries/people#blocks/bankInfo"
				},
				"photoInfo":{
					"$ref":"uri://registries/people#blocks/photoInfo"
				},
				"hockeyPlayerInfo":{
					"$ref":"uri://registries/people#blocks/hockeyPlayerInfo"
				},
				"membershipFeeInfo": {
					"$ref":"uri://registries/people#blocks/membershipFeeInfo"
				},
				"otherInfo":{
					"$ref":"uri://registries/people#blocks/otherInfo"
				}
			}
		},
		"fullperson":{
			"extends":"uri://registries/people#models/person",
			"title":"Osoba",
			"transCode":"schema.people.title"
		},
		"personalProfile": {
			"extends":"uri://registries/people#models/person",
			"title":"Môj profil",
			"transCode":"schema.people.personalProfile"
		}
	},

	"views":{
		"fullperson":{
			"new":{
				"extends":"uri://registries/people#models/fullperson"
			},
			"view":{
				"extends":"uri://registries/people#models/fullperson"
			},
			"search":{
				"extends":"uri://registries/people#models/fullperson",
				"properties": {
					"photoInfo":null
				},
				"listFields": [
					{
						"field": "baseData.surName",
						"title": "Priezvisko",
						"transCode":"schema.people.baseData.surName"
					},
					{
						"field": "baseData.name",
						"title": "Meno",
						"transCode":"schema.people.baseData.name"
					},
					{
						"field": "contact.email",
						"title": "E-mail",
						"transCode": "schema.people.contactInfo.email"
					},
					{
						"field": "contact.city",
						"title": "Mesto",
						"transCode":"schema.people.contactInfo.city"
					}
				]
			}
		},
		"personalProfile":{
			"new":{
				"extends":"uri://registries/people#models/personalProfile",
				"title":"Môj profil"
			},
			"view":{
				"extends":"uri://registries/people#models/personalProfile",
				"title":"Môj profil"
			},
			"search":{
				"extends":"uri://registries/people#models/personalProfile",
				"title":"Môj profil",
				"listFields": [
					{
						"field": "baseData.surName",
						"title": "Priezvisko"
					},
					{
						"field": "baseData.name",
						"title": "Meno"
					},
					{
						"field": "baseData.birthDate",
						"title": "Dátum narodenia"
					},
					{
						"field": "contactInfo.city",
						"title": "Mesto"
					}
				]
			}
		}
	}
}